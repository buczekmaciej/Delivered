{% extends "app/homepage.html.twig" %}

{% block title %}
	{% if name is not null %}
		{{name}}
	{% else %}
		Chat with
		{{members.0.name}}
	{% endif %}
{% endblock %}

{% block content %}
	<section class="chat" data-id="{{hash}}">
		<div class="side">
			<a href="{{path('homepage')}}">
				Back to homepage
			</a>
			<div class="messenger-chat-name">
				{% if name is not null %}
					<p class="chat-name">
						{{name}}
					</p>
					<span id="set">
						Edit
					</span>
				{% else %}
					<p class="edit">
						{% if members|length > 1 %}
							This chat got no name.
						{% else %}
							Chat with
							{{members.0.name}}
						{% endif %}
						<span id="set">
							Edit
						</span>
					</p>
				{% endif %}
				<div class="chat-name-change"></div>
			</div>
			{% if members|length > 1 %}
				<div class="messenger-chat-members">
					{% for member in members %}
						<p class="member">
							{{member.name}}
						</p>
					{% endfor %}
				</div>
			{% endif %}
		</div>
		<div class="messenger">
			<div class="messages"></div>
			<div class="new-msg">
				<label for="messageFile" class="messageFile-pic">
					&oplus;
				</label>
				<input type="file" id="messageFile" class="messageFile">
				<textarea class="message-box" id="messageContent"></textarea>
				<button class="send-message" id="messageSend">
					Send
				</button>
			</div>
		</div>
	</section>
{% endblock %}

{% block javascripts %}
	<script src="/js/send.js"></script>
	<script src="/js/jquery.js"></script>
{% endblock %}
